  <link rel="import" href="/bower_components/polymer/polymer-element.html">
  <link rel="import" href="/bower_components/iron-ajax/iron-ajax.html">
  <link rel="import" href="manager-characters.html">

  <dom-module id="app-shell">
    <template>
      <style>
      </style>

      <iron-ajax
        id="ironAjax"
        auto
        url="https://rickandmortyapi.com/api/character"
        handle-as="json"
        last-response={{response}}
        on-iron-ajax-error="showError">
      </iron-ajax>

      <manager-characters error="[[error]]" list-characters=[[response.results]]></manager-characters>

    </template>
    <script>
      (function appShell(customElements){
        'use strict';

        class AppShell extends Polymer.Element {
          static get is() { return 'app-shell'; }
          static get properties() {
            return {
              error: {
                type: Boolean,
                value: false
              }
            }
          }

          showError() {
            this.set('error', true);
          }
        }
        customElements.define(AppShell.is, AppShell);
      })(window.customElements);
    </script>
  </dom-module>
